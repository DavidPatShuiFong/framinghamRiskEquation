---
title: "framinghamRiskEquation"
author: "David Fong : vkelim at bigpond dot com"
date: "`r Sys.Date()`"
output:
  html_document:
    number_sections: yes
    theme: lumen
    toc: yes
    toc_depth: 3
    toc_float:
      collapsed: yes
      smooth_scroll: yes
  rmarkdown::html_vignette: NULL
vignette: >
  %\VignetteIndexEntry{Usage}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}

---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


```{r echo = FALSE, results = 'hide', message = FALSE}
library(printr)
```

```{r setup}
library(framinghamRiskEquation)
packageVersion("framinghamRiskEquation")
```

# Documentation

```{r}
?framinghamRiskEquation::framingham_riskequation
```

# Examples

## Example 1

This example comes from "Cardiovascular disease risk profiles" (Anderson 1991).

The worked answer in the paper is $0.22$.

```{r}
framingham_riskequation(data.frame(InternalID = 1, BP = "135/80", Sex = "Female",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 230/48, Diabetes = TRUE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 5.96,
                                   Ethnicity = NA),
                        outcome = "CHD", years = 10)

```

The same risk-factors with outcome = "CVD" and years = 5.

The calculator on cvdcheck.org.au reports $18\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 1, BP = "135/80", Sex = "Female",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 230/48, Diabetes = TRUE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 5.96,
                                   Ethnicity = NA),
                        outcome = "CVD", years = 5)

```

The same risk-factors except Sex = "Male" with outcome = "CVD" and years = 5 returns $0.202$.

The online calculator on cvdcheck.org.au reports $20\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 1, BP = "135/80", Sex = "Male",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 230/48, Diabetes = TRUE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 5.96,
                                   Ethnicity = NA),
                        outcome = "CVD", years = 5)

```

## Example 2

This comes from "An Updated Coronary Risk Profile" (Anderson 1991)'.

The worked answer in the paper is $0.192$.

```{r}
framingham_riskequation(data.frame(InternalID = 2, BP = "130/80", Sex = "Male",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CHD", years = 10)
```


The same risk-factors with outcome = "CVD" and years = 5.

The online calculator at cvdcheck.org.au reports $13\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 2, BP = "130/80", Sex = "Male",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CVD", years = 5)
```

The same risk-factors except LVH = TRUE (outcome = CVD, years = 5).

The online calculator at cvdcheck.org.au reports $21\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 2, BP = "130/80", Sex = "Male",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = TRUE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CVD", years = 5)
```

## Example 3

This comes from "An Updated Coronary Risk Profile" (Anderson 1991)

The worked answer in the paper is $0.135$.

```{r}
framingham_riskequation(data.frame(InternalID = 3, BP = "130/80", Sex = "Female",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CHD", years = 10)
```

The same risk-factors with outcome = "CVD" and years = 5.

The online calculator cvdcheck.org.au reports $9\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 3, BP = "130/80", Sex = "Female",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = FALSE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA,
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CVD", years = 5)
```

The same risk-factors except LVH = TRUE (outcome = CVD, years = 5).

The online calculator cvdcheck.org.au reports $15\%$.

```{r}
framingham_riskequation(data.frame(InternalID = 3, BP = "130/80", Sex = "Female",
                                   Age = 55, SmokingStatus = "Smoker",
                                   CholHDLRatio = 240/45, Diabetes = FALSE, LVH = TRUE,
                                   CardiovascularDisease = FALSE, PersistentProteinuria = FALSE,
                                   eGFRValue = NA, eGFRUnits = NA, 
                                   UrineAlbuminValue = NA, UrineAlbuminUnits = NA,
                                   FamilialHypercholesterolaemia = NA, Cholesterol = 6.22, Ethnicity = NA),
                        outcome = "CVD", years = 5)
```
